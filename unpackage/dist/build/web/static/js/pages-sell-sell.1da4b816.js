(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-sell-sell"],{"29e6":function(e,t,n){var a=n("660b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("6b5e51f6",a,!0,{sourceMap:!1,shadowMode:!1})},"34f5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABaCAYAAABQW8M6AAAAAXNSR0IArs4c6QAAAzlJREFUeF7tnb9OVFEQh2eQtfBPoTEhMVG09gG82vkC9piAii9i6VsYbusDWNqgLsbW1n+EQisjBKOrHLPGRI2JMPfMzInLR8vM/O75vl2yXM65aBmvbIvICRn2taldf35YK10WAlrGK19EZGRp+q32vXb9wsBe2gwEpqI+ishJQ8+v0iJv9Uq/uF9vKXfn9qvh+/8mEC6qrK+elfmvGyKiyBhMYCde1OMbi3Jk/vXgS6TxB4F4Uc9un5O9b294R1W94rYRVcUvrRlRaajrghBVxy+tG1FpqOuCEFXHL607QdTG8kUp+jJtSTMaFP+p78md0zI3uTej/HKWVeRzuKiclcx+ylRUqVjmRLv+aEU/rQckoGW8/EhEjx2w/s8y1Xd6ee36oF6aTAS4UWrC1a4YUe3Ym5IRZcLVrhhR7dibkhFlwtWuGFHt2JuSEWXC1a4YUe3Ym5IRZcLVrhhR7dibkhFlwtWuGFHt2JuSEWXC1a4YUe3Ym5IRZcLVrhhR7dibkhFlwtWuGFHt2JuSEWXC1a4YUe3Ym5K1rK8OO204jZlsF732YMeUSPEgAtPtYluDj4aKbmq3dmlQMk0mArX7+j5o158yJVI8iAA7ZQdhy28KF1XGSwuio4f5S5uhxCK78aKe3roguvdqhrA1WUq8KA5be4hNOB+FKER5EPhPZvCOQtRPAoUffR6vBd5RHhQTZiSI4rC1i8f4j+fPl87IZHTf5WoP6xDVT+GiDitb73XX3pTd1a4/7n1RzPubgJbxzRdSyrBnyqpsaddfBWw8Af7CG8/YJQFRLhjjhyAqnrFLAqJcMMYPQVQ8Y5cERLlgjB+CqHjGLgmIcsEYPwRR8YxdEhDlgjF+CKLiGbskIMoFY/wQRMUzdklAlAvG+CGIimfskoAoF4zxQxAVz9glAVEuGOOHICqesUsColwwxg9BVDxjlwR2IblgjB/Cvr54xi4J7JR1wRg/JFxUYe95vcWMveeF0xz1ovjP1i4MM4YknI/ixKGHSER5UEyYgagEyB4RiPKgmDADUQmQPSISRPEsJA9REv8LL08XqxeV8XSx+qtkwpRA7U1ZnoCZ9DrimbJJoGtjvgMTgcWGJB31/gAAAABJRU5ErkJggg=="},"39a3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAA0CAYAAAA3xE5OAAAAAXNSR0IArs4c6QAAApNJREFUaEPtmy2PFEEQhp8JXCAXSC6BBBISHAkGFCfAgAEFKFCcIuDuDA4cqDNgUCAgIAifQSH5KQh+yXv3kl7Ym8zO9uxdMkt3lVkzM9v9THVVV709DSObpPvA76Zpfo48lD1/34w1GElHgJfAQ+Bm0zQ/xhpL1/+OAkbSWeArsJ4GFWAkXQc+ACen3lS9YCTZOx8Dz4BDLfetE4ykNeAdcHtGHKkPjKQLwDfgXE9wrQuMpHvAa2B1TsapA4ykFeA5sJWZgssHI+kM8Bm4kgnFl5UNRtJV4CNwegCUcsGkVPwI2AYOD4RSJhhJx4A3wN0FgExuKWspSToPfN9dPv7dj7k8+LWfBxz0vQvXSpLuJE85ftCDWobnDQYjyTHEscQxZfD9yzDpnDEMmpikUynrXMt5+P98TTYYSZeBL4D3KcVbFhhJm8ALwDvaKqwXjCTXOK+AjSpoTE1yJhhJroadRi/WBsXz7QQj6RbwHnAfpUrbA0aSO2tPgSclp+KcN/0XjKQTqRd7I+fG0q/5A0bSpdRlc/c+zMtF0oOk7xwNIv8IGIwFLwtfFsDCEoHJUrLw5dQcS2kaTIozFsAshFkQq9660rUFMQtjWeVCqQRnbfAsjFkgiw1e+82nksBCmQWz6iyniLRgZuGsKsuKI5IsnFlAi7ZDx9KygGYhLRpVHXDc2vwEWFgr2rKW0jSBaIbP8Yckn7wFLLgVZ4M9puU9IbjNcokk0dpzLMAtamVJtBMKIerPjzvOVs5azl5DrEyPacWdODjUE3e8Q7ZAZ6Eux8r3mJb3xOHEHu+xYOfuYBxn7Sgl4gB0j+d4M2khz4JeHJnv8J74yKLHe6xGuDtooc9WV1bqy9PxIdf83fJSfvq3A3ah7N+4lJtMAAAAAElFTkSuQmCC"},"39e3":function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ECDSAInvalidSignature","type":"error"},{"inputs":[{"internalType":"uint256","name":"length","type":"uint256"}],"name":"ECDSAInvalidSignatureLength","type":"error"},{"inputs":[{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"ECDSAInvalidSignatureS","type":"error"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientAllowance","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientBalance","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC20InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC20InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC20InvalidSender","type":"error"},{"inputs":[{"internalType":"address","name":"spender","type":"address"}],"name":"ERC20InvalidSpender","type":"error"},{"inputs":[{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"ERC2612ExpiredSignature","type":"error"},{"inputs":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC2612InvalidSigner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"currentNonce","type":"uint256"}],"name":"InvalidAccountNonce","type":"error"},{"inputs":[],"name":"InvalidShortString","type":"error"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"name":"StringTooLong","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[],"name":"EIP712DomainChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"eip712Domain","outputs":[{"internalType":"bytes1","name":"fields","type":"bytes1"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"version","type":"string"},{"internalType":"uint256","name":"chainId","type":"uint256"},{"internalType":"address","name":"verifyingContract","type":"address"},{"internalType":"bytes32","name":"salt","type":"bytes32"},{"internalType":"uint256[]","name":"extensions","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},"4b60":function(e){e.exports=JSON.parse('[{"inputs":[],"name":"InvalidInitialization","type":"error"},{"inputs":[],"name":"NotInitializing","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"offerId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"totalPrice","type":"uint256"}],"name":"Buy","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint64","name":"version","type":"uint64"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"listingId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"totalPrice","type":"uint256"}],"name":"Listed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"listingId","type":"uint256"}],"name":"ListingCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"offerId","type":"uint256"}],"name":"OfferCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"offerId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"totalPrice","type":"uint256"}],"name":"OfferMade","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"listingId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"totalPrice","type":"uint256"}],"name":"Sale","type":"event"},{"inputs":[],"name":"RECEIVE","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"aisToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_listingId","type":"uint256"}],"name":"buyTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_listingId","type":"uint256"}],"name":"cancelListing","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_offerId","type":"uint256"}],"name":"cancelOffer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"feePercentage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"_payToken","type":"address"},{"internalType":"contract IERC20","name":"_aisToken","type":"address"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"uint256","name":"_totalPrice","type":"uint256"}],"name":"listTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"listingCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"listings","outputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"totalPrice","type":"uint256"},{"internalType":"uint8","name":"status","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"uint256","name":"_totalPrice","type":"uint256"}],"name":"makeOffer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"offerCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"offers","outputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"totalPrice","type":"uint256"},{"internalType":"uint8","name":"status","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"payToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_offerId","type":"uint256"}],"name":"sellTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fee","type":"uint256"}],"name":"setFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feePercentage","type":"uint256"}],"name":"setFeePercentage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_receive","type":"address"}],"name":"setReceive","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_pay","type":"address"},{"internalType":"address","name":"_ais","type":"address"}],"name":"setTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_contract","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawCoin","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},"660b":function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,".main[data-v-0b6fe4d8]{padding-top:%?120?%}.tops[data-v-0b6fe4d8]{display:flex;justify-content:space-between;align-items:center;background:rgba(60,60,60,.7);padding:%?30?%}.back[data-v-0b6fe4d8]{width:%?36?%;height:%?26?%}.title[data-v-0b6fe4d8]{color:#fff;font-family:Bold;font-size:%?32?%}.null[data-v-0b6fe4d8]{width:%?70?%}.card[data-v-0b6fe4d8]{padding:%?50?% %?60?%}.ths[data-v-0b6fe4d8]{display:flex;align-items:center;justify-content:space-between}.tabs[data-v-0b6fe4d8]{display:flex;align-items:center;color:#fff;border-radius:%?10?%;overflow:hidden;border:%?1?% solid #eea32c;font-size:%?32?%;font-weight:700;width:75%}.tabed[data-v-0b6fe4d8]{background-color:#eea32c;width:50%;text-align:center;padding:%?26?% 0}.tab[data-v-0b6fe4d8]{width:50%;text-align:center;padding:%?26?% 0;background-color:#fff;color:#000;border-right:%?1?% solid #eea32c}.tab[data-v-0b6fe4d8]:last-child{border-right:unset}.sales[data-v-0b6fe4d8]{border:%?1?% solid #eea32c;width:20%;text-align:center;border-radius:%?10?%;display:flex;justify-content:center;align-items:center;padding:%?26?% 0}.bicon[data-v-0b6fe4d8]{width:%?54?%;height:%?44?%}.lists[data-v-0b6fe4d8]{margin-top:%?60?%}.list[data-v-0b6fe4d8]{padding-bottom:%?40?%}.bts[data-v-0b6fe4d8]{color:#fff;padding-bottom:%?20?%;font-size:%?30?%;font-weight:700}.in[data-v-0b6fe4d8]{background-color:#fff;padding:%?30?%;border-radius:%?10?%}.opers[data-v-0b6fe4d8]{margin-top:%?40?%}.btn[data-v-0b6fe4d8]{background-color:#eea32c;color:#fff}.yues[data-v-0b6fe4d8]{color:#ebebeb;padding:%?30?% %?10?%}",""]),e.exports=t},"6c17":function(e,t,n){"use strict";n.r(t);var a=n("78c8"),i=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(s);t["default"]=i.a},"78c8":function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("2634")),s=a(n("2fdc"));n("f7a5"),n("c223");var r=n("9333"),u=n("aba5");n("86fe");var p=a(n("7f4a")),o=a(n("2213")),l=a(n("4b60")),d=a(n("39e3")),y=a(n("f9ea")),c={components:{Menu:o.default},data:function(){return{active:0,tabs:[{id:0,val:this.$t("oth.txt8")},{id:1,val:this.$t("oth.txt13")}],sellContract:"0xf591869237d293Aee9C49DaFDF8E656EeCFe986D",tokenContract:"0x2af2697499b0e2f978b77615D1bC5bF65b5c065c",usdtContract:"0x0098eEB6a512B8b0cd496b9fF67B549FC9d97552",assets:0,usdts:0,samount:"",sprice:"",bamount:"",bprice:"",grantNumber:0,grantUsdtNumber:0,auths:0,authb:0,sell:0,buy:0}},filters:{addrFilter:function(e){if(e){var t=e.slice(0,4),n=e.slice(-6);return"".concat(t,"***").concat(n)}},cutOutNums:function(e){return e?(0,u.cutOutNum)(e,2):"0.00"}},mounted:function(){var e=new p.default.WOW;e.init()},watch:{"$store.state.token":function(e){e||(this.teamList=[],uni.showToast({title:this.$t("common.txt22"),icon:"error"}))},"$i18n.locale":function(){this.getTabs()}},created:function(){this.getUserInfo(),this.checkGrantNumber();var e=this.$store.state.token;e||uni.showToast({title:this.$t("common.txt22"),icon:"error"})},methods:{getUserInfo:function(){var e=this;return(0,s.default)((0,i.default)().mark((function t(){var n,a,s,u,p,o,l;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return n=t.sent,a=n[0],s=new r.ethers.providers.Web3Provider(window.ethereum),u=new r.ethers.Contract(e.tokenContract,d.default,s),t.next=8,u.balanceOf(a);case 8:return p=t.sent,e.assets=r.ethers.utils.formatUnits(String(p),"ether"),console.log("ass",e.assets),o=new r.ethers.Contract(e.usdtContract,y.default,s),t.next=14,o.balanceOf(a);case 14:l=t.sent,e.usdts=r.ethers.utils.formatUnits(String(l),"ether");case 16:case"end":return t.stop()}}),t)})))()},beforePending:function(){this.samount>0?this.sprice>0?this.pendingAis():uni.showToast({title:this.$t("common.txt31"),icon:"error"}):uni.showToast({title:this.$t("common.txt32"),icon:"error"})},beforeBuy:function(){this.bamount>0?this.bprice>0?this.buyAis():uni.showToast({title:this.$t("common.txt33"),icon:"error"}):uni.showToast({title:this.$t("common.txt34"),icon:"error"})},checkGrantNumber:function(){var e=this;return(0,s.default)((0,i.default)().mark((function t(){var n,a,s,u,p,o,l;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return n=t.sent,a=n[0],s=new r.ethers.providers.Web3Provider(window.ethereum),u=new r.ethers.Contract(e.tokenContract,d.default,s),t.next=8,u.allowance(a,e.sellContract);case 8:return p=t.sent,e.grantNumber=r.ethers.utils.formatUnits(String(p),"ether"),console.log("aisg",e.grantNumber),o=new r.ethers.Contract(e.usdtContract,y.default,s),t.next=14,o.allowance(a,e.sellContract);case 14:l=t.sent,e.grantUsdtNumber=r.ethers.utils.formatUnits(String(l),"ether"),console.log("ug",e.grantUsdtNumber);case 17:case"end":return t.stop()}}),t)})))()},approveToken:function(){var e=this;return(0,s.default)((0,i.default)().mark((function t(){var n,a,s,u,p,o,l,y;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.auths=1,t.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return n=t.sent,a=r.ethers.constants.MaxUint256,s=new r.ethers.providers.Web3Provider(window.ethereum),u=s.getSigner(n[0]),p=new r.ethers.Contract(e.tokenContract,d.default,u),o=e,t.prev=9,t.next=12,p.approve(o.sellContract,BigInt(a));case 12:l=t.sent,l.hash?y=setInterval((function(){o.checkGrantNumber(),o.grantNumber>0&&(o.auths=0,uni.showToast({title:o.$t("common.txt26"),icon:"success"}),clearInterval(y))}),1e3):uni.showToast({title:o.$t("common.txt27"),icon:"error",success:function(){o.auths=0}}),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](9),uni.showToast({title:o.$t("common.txt27"),icon:"error",success:function(){o.auths=0}});case 19:case"end":return t.stop()}}),t,null,[[9,16]])})))()},approveUsdt:function(){var e=this;return(0,s.default)((0,i.default)().mark((function t(){var n,a,s,u,p,o,l,d;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.authb=1,t.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return n=t.sent,a=r.ethers.constants.MaxUint256,s=new r.ethers.providers.Web3Provider(window.ethereum),u=s.getSigner(n[0]),p=new r.ethers.Contract(e.usdtContract,y.default,u),o=e,t.prev=9,t.next=12,p.approve(o.sellContract,BigInt(a));case 12:l=t.sent,l.hash?d=setInterval((function(){o.checkGrantNumber(),o.grantUsdtNumber>0&&(o.authb=0,uni.showToast({title:o.$t("common.txt26"),icon:"success"}),clearInterval(d))}),1e3):uni.showToast({title:o.$t("common.txt27"),icon:"error",success:function(){o.authb=0}}),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](9),uni.showToast({title:o.$t("common.txt27"),icon:"error",success:function(){o.authb=0}});case 19:case"end":return t.stop()}}),t,null,[[9,16]])})))()},pendingAis:function(){var e=this;return(0,s.default)((0,i.default)().mark((function t(){var n,a,s,u,p,o,d,y;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.sell=1,t.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return n=t.sent,a=new r.ethers.providers.Web3Provider(window.ethereum),s=a.getSigner(n[0]),u=new r.ethers.Contract(e.sellContract,l.default,s),p=r.ethers.utils.parseUnits(String(e.samount),"ether"),o=r.ethers.utils.parseUnits(String(e.sprice),"ether"),d=e,t.prev=10,t.next=13,u.listTokens(p,o);case 13:y=t.sent,y.hash?(d.sell=0,uni.showToast({title:d.$t("oth.txt14"),icon:"success"})):(d.sell=0,uni.showToast({title:d.$t("oth.txt15"),icon:"error"})),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](10),d.sell=0,uni.showToast({title:d.$t("oth.txt15"),icon:"error"});case 21:case"end":return t.stop()}}),t,null,[[10,17]])})))()},buyAis:function(){var e=this;return(0,s.default)((0,i.default)().mark((function t(){var n,a,s,u,p,o,d,y;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.buy=1,t.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return n=t.sent,a=new r.ethers.providers.Web3Provider(window.ethereum),s=a.getSigner(n[0]),u=new r.ethers.Contract(e.sellContract,l.default,s),p=r.ethers.utils.parseUnits(String(e.bamount),"ether"),o=r.ethers.utils.parseUnits(String(e.bprice),"ether"),d=e,t.prev=10,t.next=13,u.makeOffer(p,o);case 13:y=t.sent,y.hash?(d.buy=0,uni.showToast({title:d.$t("oth.txt14"),icon:"success"})):(d.buy=0,uni.showToast({title:d.$t("oth.txt15"),icon:"error"})),t.next=22;break;case 17:t.prev=17,t.t0=t["catch"](10),console.log("error",t.t0),d.buy=0,uni.showToast({title:d.$t("oth.txt15"),icon:"error"});case 22:case"end":return t.stop()}}),t,null,[[10,17]])})))()},getTabs:function(){this.tabs=[{id:0,val:this.$t("oth.txt8")},{id:1,val:this.$t("oth.txt13")}]},sellBill:function(){uni.navigateTo({url:"/pages/sbills/sbills"})},changeTab:function(e){this.active=e},back:function(){var e=getCurrentPages();e&&e.length>1?uni.navigateBack():history.back()}}};t.default=c},aae7:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"container"},[a("Menu"),a("v-uni-view",{staticClass:"main"},[a("v-uni-view",{staticClass:"tops"},[a("v-uni-image",{staticClass:"back",attrs:{src:n("39a3")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.back.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"title"},[e._v(e._s(e.$t("oth.txt8")))]),a("v-uni-view",{staticClass:"null"})],1),a("v-uni-view",{staticClass:"card wow fadeInDown"},[a("v-uni-view",{staticClass:"ths"},[a("v-uni-view",{staticClass:"tabs"},e._l(e.tabs,(function(t,n){return a("v-uni-view",{key:n,class:e.active===n?"tabed":"tab",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeTab(n)}}},[e._v(e._s(t.val))])})),1),a("v-uni-view",{staticClass:"sales",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sellBill.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"bicon",attrs:{src:n("34f5")}})],1)],1),0===e.active?a("v-uni-view",{staticClass:"lists"},[a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"bts"},[e._v(e._s(e.$t("oth.txt9")))]),a("v-uni-view",{staticClass:"inp"},[a("v-uni-input",{staticClass:"in",attrs:{placeholder:this.$t("oth.txt9")},model:{value:e.samount,callback:function(t){e.samount=t},expression:"samount"}})],1)],1),a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"bts"},[e._v(e._s(e.$t("oth.txt10")))]),a("v-uni-view",{staticClass:"inp"},[a("v-uni-input",{staticClass:"in",attrs:{placeholder:this.$t("oth.txt10")},model:{value:e.sprice,callback:function(t){e.sprice=t},expression:"sprice"}})],1)],1),a("v-uni-view",{staticClass:"opers"},[e.grantNumber>0?[0===e.sell?a("v-uni-button",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.beforePending.apply(void 0,arguments)}}},[e._v(e._s(e.$t("oth.txt8")))]):e._e(),1===e.sell?a("v-uni-button",{staticClass:"btn"},[e._v(e._s(e.$t("oth.txt8"))+"...")]):e._e()]:[0===e.auths?a("v-uni-button",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.approveToken.apply(void 0,arguments)}}},[e._v(e._s(e.$t("oth.txt8")))]):e._e(),1===e.auths?a("v-uni-button",{staticClass:"btn"},[e._v(e._s(e.$t("oth.txt8"))+"...")]):e._e()]],2),a("v-uni-view",{staticClass:"yues"},[e._v("AIS"+e._s(e.$t("node.txt22"))+": "+e._s(e._f("cutOutNums")(e.assets)))])],1):e._e(),1===e.active?a("v-uni-view",{staticClass:"lists"},[a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"bts"},[e._v(e._s(e.$t("oth.txt11")))]),a("v-uni-view",{staticClass:"inp"},[a("v-uni-input",{staticClass:"in",attrs:{placeholder:this.$t("oth.txt11")},model:{value:e.bamount,callback:function(t){e.bamount=t},expression:"bamount"}})],1)],1),a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"bts"},[e._v(e._s(e.$t("oth.txt12")))]),a("v-uni-view",{staticClass:"inp"},[a("v-uni-input",{staticClass:"in",attrs:{placeholder:this.$t("oth.txt12")},model:{value:e.bprice,callback:function(t){e.bprice=t},expression:"bprice"}})],1)],1),a("v-uni-view",{staticClass:"opers"},[e.grantUsdtNumber>0?[0===e.buy?a("v-uni-button",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.beforeBuy.apply(void 0,arguments)}}},[e._v(e._s(e.$t("oth.txt13")))]):e._e(),1===e.buy?a("v-uni-button",{staticClass:"btn"},[e._v(e._s(e.$t("oth.txt13"))+"...")]):e._e()]:[0===e.authb?a("v-uni-button",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.approveUsdt.apply(void 0,arguments)}}},[e._v(e._s(e.$t("oth.txt13")))]):e._e(),1===e.authb?a("v-uni-button",{staticClass:"btn"},[e._v(e._s(e.$t("oth.txt13"))+"...")]):e._e()]],2),a("v-uni-view",{staticClass:"yues"},[e._v("USDT"+e._s(e.$t("node.txt22"))+": "+e._s(e._f("cutOutNums")(e.usdts)))])],1):e._e()],1)],1)],1)},i=[]},da8f:function(e,t,n){"use strict";var a=n("29e6"),i=n.n(a);i.a},e6e9:function(e,t,n){"use strict";n.r(t);var a=n("aae7"),i=n("6c17");for(var s in i)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n("da8f");var r=n("828b"),u=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"0b6fe4d8",null,!1,a["a"],void 0);t["default"]=u.exports},f9ea:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ECDSAInvalidSignature","type":"error"},{"inputs":[{"internalType":"uint256","name":"length","type":"uint256"}],"name":"ECDSAInvalidSignatureLength","type":"error"},{"inputs":[{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"ECDSAInvalidSignatureS","type":"error"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientAllowance","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientBalance","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC20InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC20InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC20InvalidSender","type":"error"},{"inputs":[{"internalType":"address","name":"spender","type":"address"}],"name":"ERC20InvalidSpender","type":"error"},{"inputs":[{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"ERC2612ExpiredSignature","type":"error"},{"inputs":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC2612InvalidSigner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"currentNonce","type":"uint256"}],"name":"InvalidAccountNonce","type":"error"},{"inputs":[],"name":"InvalidShortString","type":"error"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"name":"StringTooLong","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[],"name":"EIP712DomainChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"eip712Domain","outputs":[{"internalType":"bytes1","name":"fields","type":"bytes1"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"version","type":"string"},{"internalType":"uint256","name":"chainId","type":"uint256"},{"internalType":"address","name":"verifyingContract","type":"address"},{"internalType":"bytes32","name":"salt","type":"bytes32"},{"internalType":"uint256[]","name":"extensions","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')}}]);